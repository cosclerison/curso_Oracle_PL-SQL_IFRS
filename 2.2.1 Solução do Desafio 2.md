## 2.2.1 Solução do Desafio 2
Solução do Desafio:
CREATE OR REPLACE PROCEDURE verifica_depto (p_nome IN VARCHAR2) IS
   v_cont NUMBER;
BEGIN
SELECT count(*)
INTO v_cont
FROM funcionario f inner join departamento d
on f.id_departamento = d.id_departamento
WHERE d.nome_departamento = p_nome;

IF v_cont =0
THEN DBMS_OUTPUT.PUT_LINE('O departamento não possui funcionários');
ELSIF v_cont <=20
THEN DBMS_OUTPUT.PUT_LINE('Departamento Pequeno');
ELSIF v_cont <=30
THEN DBMS_OUTPUT.PUT_LINE('Departamento Médio');
ELSE DBMS_OUTPUT.PUT_LINE('Departamento Grande');
END IF;
END;


Explicando o código:

  A PROCEDURE recebe como parâmetro o nome no departamento. Para descobrir o total de funcionários do departamento é necessário fazer um JOIN entre as tabelas funcionario e departamento pois a informação de que funcionário trabalha em qual departamento está na tabela funcionário e o nome do departamento está na tabela departamento. O número de funcionários no departamento é atribuído a variável v_cont através do INTO.

O comando de seleção IF é utilizado para determinar o que será impresso na tela dependendo do conteúdo da variável v_cont.

Na declaração do parâmetro p_nome não pode ser colocado o tamanho VARCHAR2(30) como é feito na declaração de variáveis. 

CREATE OR REPLACE PROCEDURE verifica_depto (p_nome IN VARCHAR2(30)) IS

A declaração acima retornaria um erro sintático.


Chamada da procedure:

EXEC verifica_depto ('Vendas');

